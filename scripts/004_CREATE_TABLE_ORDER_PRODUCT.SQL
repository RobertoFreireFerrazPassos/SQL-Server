-- =============================================
-- Author:      Passos, Roberto
-- Create Date: 08/22/2022
-- Description: Create Table PRODUCT 
-- =============================================

CREATE TABLE ORDER_PRODUCT (
	PRODUCT_ID uniqueidentifier NOT NULL PRIMARY KEY,
	NAME VARCHAR(100) NOT NULL,
	SKU_CODE INT NOT NULL,
	QUANTITY INT NOT NULL,
	IS_DELETED BIT NOT NULL,
)
GO

CREATE INDEX INDEX_EXISTS_PRODUCT
ON ORDER_PRODUCT(IS_DELETED)
INCLUDE (PRODUCT_ID,NAME,QUANTITY)
WHERE IS_DELETED = 0

INSERT INTO ORDER_PRODUCT VALUES(NEWID(),'DÚZIA DE OVOS',36427397,5,0)
INSERT INTO ORDER_PRODUCT VALUES(NEWID(),'LEITE CAIXA 1L',34977315,40,1)
INSERT INTO ORDER_PRODUCT VALUES(NEWID(),'ARROZ 5KG',33427336,30,0)
INSERT INTO ORDER_PRODUCT VALUES(NEWID(),'FEIJÃO 1 KG',34047346,34,0)
INSERT INTO ORDER_PRODUCT VALUES(NEWID(),'AZEITE 500ML',34027563,18,0)
GO

SELECT PRODUCT_ID,NAME,QUANTITY 
FROM ORDER_PRODUCT P
WHERE IS_DELETED = 0
GO